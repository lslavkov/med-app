<div class="container mt-5">
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <h2 class="text-center text-primary">Sign Up Form</h2>
    <hr/>

    <div class="form-group mb-1">
      <label class="control-label mr-10">I am: </label>
      <label class="radio-inline">
        <input type="radio" class="mr-2 ml-3" value="patient" formControlName="type">
        Patient
      </label>

      <label class="radio-inline">
        <input type="radio" class="mr-2 ml-3" value="physician" formControlName="type">
        Physician
      </label>
    </div>

    <div class="form-group">
      <input
        type="text"
        class="form-control"
        formControlName="firstName"
        placeholder="First Name"
        [ngClass]="{'is-invalid': registerForm.get('firstName').errors && registerForm.get('firstName').touched}"
      >
      <div class="invalid-feedback">Please enter your first name</div>
    </div>

    <div class="form-group">
      <input
        type="text"
        class="form-control"
        formControlName="lastName"
        placeholder="Last name"
        [ngClass]="{'is-invalid': registerForm.get('lastName').errors && registerForm.get('lastName').touched}"
      >
      <div class="invalid-feedback">Please enter your last name</div>
    </div>

    <div class="form-group">
      <input
        type="email"
        class="form-control"
        formControlName="email"
        placeholder="E-mail"
        [ngClass]="{'is-invalid': registerForm.get('email').errors && registerForm.get('email').touched}"
      />
      <div class="invalid-feedback">Please enter correct e-mail address</div>
    </div>

    <div class="form-group">
      <input
        type="password"
        class="form-control"
        formControlName="password"
        placeholder="Password"
        [ngClass]="{
        'is-invalid':
          registerForm.get('password').errors &&
          registerForm.get('password').touched
      }"
      />
      <div
        class="invalid-feedback"
        *ngIf="
        registerForm.get('password').hasError('required') &&
        registerForm.get('password').touched"
      >
        Password is required
      </div>
      <div
        class="invalid-feedback"
        *ngIf="
        registerForm.get('password').hasError('minlength') &&
        registerForm.get('password').touched"
      >
        Password must be at least 4 characters
      </div>
      <div class="invalid-feedback"
           *ngIf="registerForm.get('password').hasError('maxlength') &&registerForm.get('password').touched">
        Password cannot exceed 8 characters
      </div>

    </div>

    <div class="form-group">
      <input
        type="password"
        class="form-control"
        formControlName="confirmPassword"
        placeholder="Confirm Password"
        [ngClass]="{
        'is-invalid':
          (registerForm.get('confirmPassword').errors &&
            registerForm.get('confirmPassword').touched) ||
          (registerForm.get('confirmPassword').touched &&
            registerForm.hasError('mismatch'))}"
      />
      <div
        class="invalid-feedback"
        *ngIf="
        registerForm.get('confirmPassword').hasError('required') &&
        registerForm.get('confirmPassword').touched"
      >
        Confirm Password is required
      </div>
      <div
        class="invalid-feedback"
        *ngIf="
        registerForm.hasError('mismatch') &&
        registerForm.get('confirmPassword').touched"

      >
        Passwords must match
      </div>
    </div>

    <div class="form-group text-center">
      <button
        class="btn btn-success"
        type="submit"
        [disabled]="!registerForm.valid"
      >
        Register
      </button>
      <button class="btn btn-default" type="button" (click)="cancel()">
        Cancel
      </button>
    </div>
  </form>
</div>
